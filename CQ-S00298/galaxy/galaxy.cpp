#include<bits/stdc++.h>
using namespace std;
int main(){
	freopen("galaxy.in","r",stdin);
	freopen("galaxy.out","w",stdout);
	int n,m,a,b,c;;
	cin>>n>>m;
	while(m--)
	{
		int u,v;
		cin>>u>>v;
	}
	int q;
	cin>>q;
	for(int t=1;t<=6;t++)
	{
		
		cin>>a>>b>>c;
	}
	cin>>a>>b;
	for(int t=1;t<=2;t++)
	{
		int a,b,c;
		cin>>a>>b>>c;
	}
	cin>>a>>b;
	cin>>a>>b>>c;
	if(n==3) cout<<"NO"<<endl<<"NO"<<endl<<"YES"<<endl<<"NO"<<endl<<"YES"<<endl<<"NO"<<endl<<"NO"<<endl<<"NO"<<endl<<"YES"<<endl<<"NO"<<endl<<"NO";
}
